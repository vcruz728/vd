import{r as t,j as e,S as O,x}from"./app-BUWekOjZ.js";import{A as P,p as V}from"./pageHeader-DL7NJkL6.js";/* empty css                     */import{E as u,l as h,$ as d,D as L}from"./es-MX-DwzSUEkY.js";import"./responsive.bootstrap5-DgtSCYCC.js";import{L as A}from"./LineaTiempo-CWoXFudd.js";import{V as k}from"./VerPdf-CH690ZgT.js";import{R as E,B as c}from"./index-D6HQbgIA.js";import{C as l}from"./Col-ePt3g8C3.js";import{C as m}from"./Card-zRVfma5c.js";import{T as F,a as j}from"./Tabs-CRqBqohD.js";import"./commonimages-BL08UiLO.js";import"./CloseButton-CRHHNbr1.js";import"./ElementChildren-SF5ZAYrv.js";u.use(L);function Q({oficios:f}){const[g,p]=t.useState(!1),[b,n]=t.useState(!1),[T,_]=t.useState(0),[i,o]=t.useState({urlPdf:"",extension:"",idOfico:0}),[N,v]=t.useState(),[S,y]=t.useState();return t.useEffect(()=>{v((f||[]).filter(a=>a.archivo_respuesta===null).map(a=>({...a}))),y((f||[]).filter(a=>a.archivo_respuesta!==null).map(a=>({...a})))},[f]),e.jsxs(P,{children:[e.jsxs(O,{children:[e.jsx("title",{children:"Listado de oficios"}),e.jsx("meta",{name:"listado de oficios",content:"Visualiza la lista de oficios ingresados a la VD"})]}),e.jsxs(t.Fragment,{children:[e.jsx(V,{titles:"Listado de oficios",active:"Listado de oficios",items:[]}),e.jsx(E,{children:e.jsx(l,{lg:12,md:12,children:e.jsxs(m,{children:[e.jsxs(m.Header,{className:"d-flex justify-content-between",children:[e.jsx(m.Title,{as:"h3",children:"Listado de oficios"}),e.jsxs("div",{className:"tags",children:[e.jsx("span",{className:"tag tag-radius tag-round tag-verde",children:"Se dio respuesta en tiempo"}),e.jsx("span",{className:"tag tag-radius tag-round tag-amarillo",children:"Sin respuesta, en tiempo"}),e.jsx("span",{className:"tag tag-radius tag-round tag-naranja",children:"Sin respuesta, fuera de tiempo"}),e.jsx("span",{className:"tag tag-radius tag-round tag-rojo",children:"Se dio respuesta fuera de tiempo"})]}),e.jsx("div",{className:"tags"})]}),e.jsx(m.Body,{children:e.jsx("div",{className:"panel panel-default",children:e.jsxs(F,{defaultActiveKey:"tab1",children:[e.jsxs(j,{eventKey:"tab1",title:"Activos",children:[e.jsx(l,{md:12,className:"d-flex justify-content-center",children:e.jsxs(x,{className:"btn btn-primary",href:route("oficios.recepcionOficio"),children:[e.jsx("i",{className:"fe fe-plus me-2"}),"Nueva recepción"]})}),e.jsx(l,{md:12,children:e.jsx(u,{data:N,options:{language:h,order:[]},columns:[{data:"id",title:"Estatus",createdCell(a,s,r,w,C){d(a).css("background",r.color),d(a).css("color",r.color)}},{data:"f_ingreso",title:"Fecha de ingreso"},{data:"ingreso",title:"Tipo de ingreso"},{data:"numero_oficio",title:"No. Oficio / Folio"},{data:"des",title:"Unidad Académica o Dependencia"},{data:"area",title:"Área responsable"},{data:"proceso",title:"Proceso que impacta"},{data:"proceso",title:"Acciones"}],className:"display table-bordered text-nowrap border-bottom",slots:{7:(a,s)=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"text-center",children:[e.jsx(x,{className:"btn-icon btn btn-warning",href:route("oficios.modificaOficio",{id:s.id}),children:e.jsx("i",{className:"fe fe-edit"})}),e.jsx(c,{className:"btn-icon ml-1",variant:"success",onClick:()=>{o({...i,idOfico:s.id}),p(!0)},title:"Ver línea de tiempo del oficio",children:e.jsx("i",{className:"fa fa-history"})})]})})}})})]}),e.jsx(j,{eventKey:"tab2",title:"Histórico",children:e.jsx(l,{md:12,className:"table-responsive",children:e.jsx(u,{data:S,options:{language:h,autoWidth:!1},columns:[{data:"id",title:"Estatus",createdCell(a,s,r,w,C){d(a).css("background",r.color),d(a).css("color",r.color)},width:"5%"},{data:"f_ingreso",title:"Fecha de ingreso",width:"10%"},{data:"numero_oficio",title:"No. Oficio / Folio",width:"5%"},{data:"area",title:"Área",width:"10%"},{data:"proceso",title:"Proceso",width:"10%"},{data:"descripcion",title:"Breve descripción",width:"40%"},{data:"proceso",width:"15%",title:"Acciones"}],className:"display table-bordered  border-bottom ancho100",slots:{6:(a,s)=>e.jsxs("div",{className:"text-center",children:[e.jsx(c,{className:"btn-icon btn btn-warning",variant:"danger",title:"Ver confirmación de recibido",onClick:()=>{o({...i,urlPdf:s.archivo_respuesta,extension:s.extension}),n(!0)},children:e.jsx("i",{className:"fa fa-file-pdf-o"})}),e.jsx(c,{className:"btn-icon btn btn-warning ml-1",variant:"danger",title:"Ver respuesta al oficio",onClick:()=>{o({...i,urlPdf:`imprime/pdf/0/${s.id}`,extension:"pdf"}),n(!0)},children:e.jsx("i",{className:"fa fa-file-pdf-o"})}),e.jsx(c,{className:"btn-icon ml-1",variant:"danger",title:"Ver PDF del oficio",onClick:()=>{o({...i,urlPdf:s.archivo,extension:"pdf"}),n(!0)},children:e.jsx("i",{className:"fa fa-eye"})}),e.jsx(c,{className:"btn-icon ml-1",variant:"success",onClick:()=>{o({...i,idOfico:s.id}),p(!0)},title:"Ver línea de tiempo del oficio",children:e.jsx("i",{className:"fa fa-history"})})]})}})})})]})})})]})})}),e.jsx(A,{showLinea:g,setShowLinea:p,id:i.idOfico}),e.jsx(k,{urlPdf:i.urlPdf,show:b,tipo:i.extension,setShow:n})]})]})}export{Q as default};
