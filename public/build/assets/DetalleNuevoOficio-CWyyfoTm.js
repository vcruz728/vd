import{r as l,j as e,S as b}from"./app-DM6KxBPp.js";import{A as N,p as w,g as y}from"./pageHeader-BEJzowwR.js";/* empty css                     */import{V as D}from"./VerPdf-DqbujEtv.js";import{E as x,l as C,D as F}from"./es-MX-DW0JOEgr.js";import{R as V,B as h}from"./index-QFYPGdfi.js";import{C as t}from"./Col-CqGaRyvF.js";import{C as o}from"./Card-B4D8A1q4.js";import{F as S}from"./Form-CO37fe7i.js";import"./commonimages-BEFzf7ip.js";import"./CloseButton-BYzpkFt_.js";import"./ElementChildren-BOQAxI4E.js";x.use(F);function M({id:c,oficio:s,destinatariosOficio:f,archivos:m}){const[u,r]=l.useState(!1),[j,n]=l.useState(""),[p,d]=l.useState("pdf"),g=(a,i,v)=>{i==1?(n(a),d(v),r(!0)):window.open(a,"_blank")};return e.jsxs(N,{children:[e.jsxs(b,{children:[e.jsx("title",{children:"Detalle nuevo oficio"}),e.jsx("meta",{name:"Detalle de nuevo oficio",content:"Revise el detalle de un nuevo oficio generado por la VD"})]}),e.jsxs(l.Fragment,{children:[e.jsx(w,{titles:"Detalle de nuevo oficio",active:"Detalle de nuevo oficio",items:[{titulo:"Mis oficios",urlHeader:"/oficios/mis-oficios"}]}),e.jsx(V,{className:"d-flex justify-content-center",children:e.jsx(t,{lg:12,xl:6,children:e.jsxs(o,{children:[e.jsx(o.Header,{children:e.jsx(o.Title,{as:"h3",children:"Detalle del nuevo oficio"})}),e.jsx(o.Body,{children:e.jsxs("div",{className:"form-row",children:[s.masivo==1&&s.archivo.substring(s.archivo.length-3)!=="pdf"?e.jsx(t,{xs:12,style:{padding:40},children:e.jsxs("a",{className:"tag tag-radius tag-round tag-outline-danger",target:"_BLANK",href:y(`/files/${s.archivo}`),children:["Click para descargar el archivo",e.jsx("i",{className:"fa fa-file-pdf-o",style:{padding:6}})]})}):null,s.masivo==1?e.jsxs(e.Fragment,{children:[e.jsx(t,{xs:12,style:{padding:40},hidden:s.archivo.substring(s.archivo.length-3)!=="pdf",children:e.jsxs("span",{className:"tag tag-radius tag-round tag-outline-danger",onClick:()=>{n(s.archivo),d("pdf"),r(!0)},children:["Click para ver archivo",e.jsx("i",{className:"fa fa-file-pdf-o",style:{padding:6}})]})}),e.jsxs(t,{xs:12,className:"mb-5",children:[e.jsx(S.Label,{children:"Breve descripción del motivo del oficio"}),e.jsx("textarea",{className:"form-control",defaultValue:s.descripcion,disabled:!0,rows:4})]})]}):e.jsx(t,{xs:12,className:"mb-5",children:e.jsx(x,{data:f,options:{language:C,autoWidth:!1,ordering:!1,pageLength:5,lengthMenu:[[5,10,20,-1],[5,10,20,"Todos"]]},columns:[{data:"id",title:"Ver oficio",width:"10%"},{title:"Nombre",data:"nombre",width:"30%"}],className:"display table-bordered  border-bottom ancho100",slots:{0:(a,i)=>e.jsx("div",{className:"text-center",children:e.jsx(h,{className:"btn-icon ml-1",variant:"danger",title:"Ver oficiosss",onClick:()=>{n(`imprime/nuevo/pdf/${c}/${i.id_usuario}/${i.tipo_usuario}`),d("pdf"),r(!0)},children:e.jsx("i",{className:"fa fa-file-pdf-o"})})})}})}),m.length>0?e.jsxs(e.Fragment,{children:[e.jsx(t,{xs:12,children:e.jsxs("table",{className:"table table-bordered table-hover table-striped",children:[e.jsxs("thead",{children:[e.jsx("tr",{children:e.jsx("th",{colSpan:2,children:"Archivos adjuntos"})}),e.jsxs("tr",{children:[e.jsx("th",{children:"Nombre"}),e.jsx("th",{children:"Ver"})]})]}),e.jsx("tbody",{children:m.map(a=>e.jsxs("tr",{children:[e.jsx("td",{children:a.nombre}),e.jsx("td",{children:e.jsx(h,{className:"btn-icon ml-1",variant:"danger",title:"Ver PDF del oficio",onClick:()=>g(a.url,a.tipo,a.extension),children:e.jsx("i",{className:"fa fa-eye"})})})]},a.id))})]})}),e.jsx(t,{xs:12,className:"mb-5 d-flex justify-content-end",children:e.jsxs("a",{href:route("oficios.downloadFilesNew",{id:c,tipo:"id_nuevo_oficio"}),target:"_BLANK",className:"btn btn-warning btn-lg mb-1",children:["Descargar todos los archivos adjuntos  ",e.jsx("i",{className:"fa fa-download"})]})})]}):null]})})]})})}),e.jsx(D,{urlPdf:j,show:u,setShow:r,tipo:p})]})]})}export{M as default};
