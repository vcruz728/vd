import{X as k,r,G as F,j as s,x as G}from"./app-BUWekOjZ.js";import{A as L,p as R}from"./pageHeader-DL7NJkL6.js";import{I as A}from"./commonimages-BL08UiLO.js";import m from"./InputError-DdbmcGUw.js";import{R as D,c as $}from"./index-D6HQbgIA.js";import{C as u}from"./Col-ePt3g8C3.js";import{C as t}from"./Card-zRVfma5c.js";import{F as e}from"./Form-CSKYjofP.js";import{I as x}from"./InputGroup-M-qzyNBl.js";import"./CloseButton-CRHHNbr1.js";import"./ElementChildren-SF5ZAYrv.js";function W(){const g=k().props.auth.user,N=r.useRef(null),b=r.useRef(null),[v,h]=r.useState(!1),[o,C]=r.useState(!1),[n,y]=r.useState(!1),[i,_]=r.useState(!1),{data:d,setData:c,errors:l,put:z,reset:p,processing:S,recentlySuccessful:q}=F({current_password:"",password:"",password_confirmation:""}),I=a=>{a.preventDefault(),z(route("password.update"),{preserveScroll:!0,onSuccess:E,onError:w=>{var f,j;w.password&&(p("password_confirmation"),(f=N.current)==null||f.focus()),w.current_password&&(p("current_password"),(j=b.current)==null||j.focus())},onFinish:P})},E=()=>{p(),h(!1),$("Correcto: Contraseña actualizada correctamente.",{style:{padding:"16px",color:"#fff",backgroundColor:"#29bf74"},position:"top-center"})},P=()=>{h(!1)};return s.jsx(L,{children:s.jsxs(r.Fragment,{children:[s.jsx(R,{titles:"Editar perfil",active:"Editar perfil",items:["Dashboard"]}),s.jsxs(D,{children:[s.jsx(u,{xl:4}),s.jsx(u,{xl:4,children:s.jsx("form",{onSubmit:I,className:"mt-6 space-y-6",children:s.jsxs(t,{children:[s.jsx(t.Header,{children:s.jsx(t.Title,{children:"Cambiar contraseña"})}),s.jsxs(t.Body,{children:[s.jsxs("div",{className:"text-center chat-image mb-5",children:[s.jsx("div",{className:"avatar avatar-xxl chat-profile mb-3 brround",children:s.jsx("div",{className:"",children:s.jsx("img",{alt:"avatar",src:A("user"),className:"brround"})})}),s.jsx("div",{className:"main-chat-msg-name",children:s.jsx("div",{children:s.jsx("h5",{className:"mb-1 text-dark fw-semibold",children:g.name})})})]}),s.jsxs("div",{children:[s.jsxs(e.Group,{children:[s.jsx(e.Label,{children:"Contraseña actual"}),s.jsxs(x,{className:"wrap-input100 validate-input",id:"Password-toggle",children:[s.jsx("div",{className:"input-group-text bg-white text-muted p-3",onClick:()=>C(!o),children:s.jsx("i",{className:`zmdi ${o?"zmdi-eye":"zmdi-eye-off"} text-muted`,"aria-hidden":"true"})}),s.jsx(e.Control,{className:"input100",type:o?"text":"password",id:"current_password",name:"current_password",placeholder:"Contraseña",value:d.current_password,onChange:a=>c("current_password",a.target.value),autoComplete:"current-password"})]})]}),s.jsx(m,{className:"mt-2",message:l.current_password})]}),s.jsxs(e.Group,{children:[s.jsx(e.Label,{children:"Nueva contraseña"}),s.jsxs(x,{className:"wrap-input100 validate-input",id:"Password-toggle1",children:[s.jsx("div",{className:"input-group-text bg-white text-muted",onClick:()=>y(!n),children:s.jsx("i",{className:`zmdi ${n?"zmdi-eye":"zmdi-eye-off"} text-muted`})}),s.jsx(e.Control,{className:"input100",type:n?"text":"password",id:"password",name:"password",placeholder:"Contraseña",value:d.password,onChange:a=>c("password",a.target.value),required:!0})]})]}),s.jsx(m,{className:"mt-2",message:l.password}),s.jsxs(e.Group,{children:[s.jsx(e.Label,{children:"Confirma contraseña"}),s.jsxs(x,{className:"wrap-input100 validate-input",id:"Password-toggle2",children:[s.jsx("div",{className:"input-group-text bg-white text-muted",onClick:()=>_(!i),children:s.jsx("i",{className:`zmdi ${i?"zmdi-eye":"zmdi-eye-off"} text-muted`,"aria-hidden":"true"})}),s.jsx(e.Control,{className:"input100",type:i?"text":"password",id:"password_confirmation",name:"password_confirmation",placeholder:"Contraseña",value:d.password_confirmation,onChange:a=>c("password_confirmation",a.target.value),required:!0})]})]}),s.jsx(m,{className:"mt-2",message:l.password_confirmation})]}),s.jsxs(t.Footer,{className:"text-end",children:[s.jsxs("button",{className:"btn btn-primary me-1",disabled:S,children:["Actualizar",v?s.jsx("span",{role:"status","aria-hidden":"true",className:"spinner-border spinner-border-sm ms-2"}):""]}),s.jsx(G,{href:"#",className:"btn btn-danger me-1",children:"Cancelar"})]})]})})}),s.jsx(u,{xl:4})]})]})})}export{W as default};
