import{r as l,j as e,S as w}from"./app-CLURJkGK.js";import{A as y,p as D,g as o}from"./pageHeader-D_1LwfWO.js";/* empty css                     */import{V as C}from"./VerPdf-DXHcB1wc.js";import{E as u,l as V,D as F}from"./es-MX-C92AoiMh.js";import{R as S,B as f}from"./index-6M-nTxTF.js";import{C as t}from"./Col-BmTaf4dG.js";import{C as n}from"./Card-DrgDsYzZ.js";import{F as _}from"./Form-CZ3SpEJp.js";import"./commonimages-Db2ZVa_Y.js";import"./CloseButton-ZLY2bF9Q.js";import"./ElementChildren-KYUFPN3z.js";u.use(F);function U({id:h,oficio:s,destinatariosOficio:j,archivos:m}){const[p,r]=l.useState(!1),[g,d]=l.useState(""),[v,c]=l.useState("pdf"),b=(a,i,N)=>{const x=o(a);i===1?(d(x),c(N),r(!0)):window.open(x,"_blank")};return e.jsxs(y,{children:[e.jsxs(w,{children:[e.jsx("title",{children:"Detalle nuevo oficio"}),e.jsx("meta",{name:"Detalle de nuevo oficio",content:"Revise el detalle de un nuevo oficio generado por la VD"})]}),e.jsxs(l.Fragment,{children:[e.jsx(D,{titles:"Detalle de nuevo oficio",active:"Detalle de nuevo oficio",items:[{titulo:"Mis oficios",urlHeader:"/oficios/mis-oficios"}]}),e.jsx(S,{className:"d-flex justify-content-center",children:e.jsx(t,{lg:12,xl:6,children:e.jsxs(n,{children:[e.jsx(n.Header,{children:e.jsx(n.Title,{as:"h3",children:"Detalle del nuevo oficio"})}),e.jsx(n.Body,{children:e.jsxs("div",{className:"form-row",children:[s.masivo==1&&s.archivo.substring(s.archivo.length-3)!=="pdf"?e.jsx(t,{xs:12,style:{padding:40},children:e.jsxs("a",{className:"tag tag-radius tag-round tag-outline-danger",target:"_BLANK",href:o(`/files/${s.archivo}`),children:["Click para descargar el archivo",e.jsx("i",{className:"fa fa-file-pdf-o",style:{padding:6}})]})}):null,s.masivo==1?e.jsxs(e.Fragment,{children:[e.jsx(t,{xs:12,style:{padding:40},hidden:s.archivo.substring(s.archivo.length-3)!=="pdf",children:e.jsxs("span",{className:"tag tag-radius tag-round tag-outline-danger",onClick:()=>{d(o(`/files/${s.archivo}`)),c("pdf"),r(!0)},children:["Click para ver archivo",e.jsx("i",{className:"fa fa-file-pdf-o",style:{padding:6}})]})}),e.jsxs(t,{xs:12,className:"mb-5",children:[e.jsx(_.Label,{children:"Breve descripción del motivo del oficio"}),e.jsx("textarea",{className:"form-control",defaultValue:s.descripcion,disabled:!0,rows:4})]})]}):e.jsx(t,{xs:12,className:"mb-5",children:e.jsx(u,{data:j,options:{language:V,autoWidth:!1,ordering:!1,pageLength:5,lengthMenu:[[5,10,20,-1],[5,10,20,"Todos"]]},columns:[{data:"id",title:"Ver oficio",width:"10%"},{title:"Nombre",data:"nombre",width:"30%"}],className:"display table-bordered  border-bottom ancho100",slots:{0:(a,i)=>e.jsx("div",{className:"text-center",children:e.jsx(f,{className:"btn-icon ml-1",variant:"danger",title:"Ver oficio",onClick:()=>{d(o(`/imprime/nuevo/pdf/${h}/${i.id_usuario}/${i.tipo_usuario}`)),c("pdf"),r(!0)},children:e.jsx("i",{className:"fa fa-file-pdf-o"})})})}})}),m.length>0?e.jsxs(e.Fragment,{children:[e.jsx(t,{xs:12,children:e.jsxs("table",{className:"table table-bordered table-hover table-striped",children:[e.jsxs("thead",{children:[e.jsx("tr",{children:e.jsx("th",{colSpan:2,children:"Archivos adjuntos"})}),e.jsxs("tr",{children:[e.jsx("th",{children:"Nombre"}),e.jsx("th",{children:"Ver"})]})]}),e.jsx("tbody",{children:m.map(a=>e.jsxs("tr",{children:[e.jsx("td",{children:a.nombre}),e.jsx("td",{children:e.jsx(f,{className:"btn-icon ml-1",variant:"danger",title:"Ver archivo adjunto",onClick:()=>b(a.url,a.tipo,a.extension),children:e.jsx("i",{className:"fa fa-eye"})})})]},a.id))})]})}),e.jsx(t,{xs:12,className:"mb-5 d-flex justify-content-end",children:e.jsxs("a",{href:route("oficios.downloadFilesNew",{id:h,tipo:"id_nuevo_oficio"}),target:"_BLANK",className:"btn btn-warning btn-lg mb-1",children:["Descargar todos los archivos adjuntos  ",e.jsx("i",{className:"fa fa-download"})]})})]}):null]})})]})})}),e.jsx(C,{urlPdf:g,show:p,setShow:r,tipo:v})]})]})}export{U as default};
